#!/usr/bin/env python
import sys
import os

def visit_dir(visited_dirs=[]):
    found = False
    initial_dir = os.getcwd()

    for root, dirs, files in os.walk(os.getcwd(), topdown=True):
        # exclude already visited directories
        for vdir in visited_dirs:
            if vdir in dirs:
                dirs.remove(vdir)

        print files
        if "activate" in files:
            found = True
            break
    if found:
        print "%s/activate" % os.getcwd()
        sys.exit(0)
    else:
        if os.getcwd() != "/":
            os.chdir("..")
            visited_dirs.append(initial_dir)
            visit_dir(visited_dirs=visited_dirs)
        else:
            sys.exit(-1)

visit_dir()



